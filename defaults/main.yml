---
# To use this role at all, you need to set aspects_php_enabled to True.
aspects_php_enabled: False
# If you wish the Apache php module installed, set aspects_php_apache_installed to True.
aspects_php_apache_installed: False
# If you want to install the php command line tool, set aspects_php_cli_installed to True.
aspects_php_cli_installed: False

# Use this dictionary to list packages for installation.
# See README.md for details.
aspects_php_packages: {}

# Since PECL can be ugly, we disable the PECL tasks by default.
# Set aspects_php_use_pecl to True if you wish to use these tasks.
aspects_php_use_pecl: False

# To configure and enable modules that are taken care of by php5enmod and php5dismod tools, use
# the aspects_php_modules dictionary.
aspects_php_modules: {}


# Different distributions place the appropriate php.ini files in different locations.
# Thus, we have to tell Ansible which ini file to use.
aspects_php_config:
  memory_limit:
    enable: True
    target:
      Debian:
        apache: "/etc/php5/apache2/php.ini"
        cli: "/etc/php5/cli/php.ini"
      Ubuntu1604:
        apache: "/etc/php/7.0/apache2/php.ini"
        cli: "/etc/php/7.0/cli/php.ini"
      RedHat:
        apache: "/etc/php.ini"
        cli: "/etc/php.ini"
    section: "PHP"
    name: "memory_limit"
    value: "256M"
  error_log:
    enable: True
    target:
      Debian:
        apache: "/etc/php5/apache2/php.ini"
        cli: "/etc/php5/cli/php.ini"
      Ubuntu1604:
        apache: "/etc/php/7.0/apache2/php.ini"
        cli: "/etc/php/7.0/cli/php.ini"
      RedHat:
        apache: "/etc/php.ini"
        cli: "/etc/php.ini"
    section: "PHP"
    name: "error_log"
    value: "syslog"
  allow_url_fopen:
    enable: True
    target:
      Debian:
        apache: "/etc/php5/apache2/php.ini"
      Ubuntu1604:
        apache: "/etc/php/7.0/apache2/php.ini"
      RedHat:
        apache: "/etc/php.ini"
    section: "PHP"
    name: "allow_url_fopen"
    value: "Off"
  disable_functions:
    enable: True
    target:
      Debian:
        apache: "/etc/php5/apache2/php.ini"
      Ubuntu1604:
        apache: "/etc/php/7.0/apache2/php.ini"
      RedHat:
        apache: "/etc/php.ini"
    section: "PHP"
    name: "disable_functions"
    value: "apache_child_terminate,apache_setenv,define_syslog_variables,escapeshellarg,escapeshellcmd,eval,exec,fp,fput,ftp_connect,ftp_exec,ftp_get,ftp_login,ftp_nb_fput,ftp_put,ftp_raw,ftp_rawlist,highlight_file,ini_alter,ini_get_all,ini_restore,inject_code,mysql_pconnect,passthru,php_uname,phpAds_remoteInfo,phpAds_XmlRpc,phpAds_xmlrpcDecode,phpAds_xmlrpcEncode,popen,posix_getpwuid,posix_kill,posix_mkfifo,posix_setpgid,posix_setsid,posix_setuid,posix_setuid,posix_uname,proc_close,proc_get_status,proc_nice,proc_open,proc_terminate,shell_exec,system,xmlrpc_entity_decode,pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,"

# PECL Packages:
# Find names at: http://pecl.php.net/packages.php
aspects_php_pecl_packages:
  uploadprogress:
    state: "default"
    name: "uploadprogress"
    linecreated:
      Debian: "/usr/lib/php5/20121212/uploadprogress.so"
      RedHat: "/usr/lib64/php/modules/uploadprogress.so"
